--
-- PostgreSQL database cluster dump
--

SET default_transaction_read_only = off;

SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;

--
-- Roles
--

CREATE ROLE "dba";
ALTER ROLE "dba" WITH NOSUPERUSER INHERIT LOGIN NOREPLICATION PASSWORD '12345678';
CREATE ROLE analyser1;
ALTER ROLE analyser1 WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION PASSWORD '12345678';
CREATE ROLE analyser2;
ALTER ROLE analyser2 WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION PASSWORD '12345678';
CREATE ROLE analysis;
ALTER ROLE analysis WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION PASSWORD '12345678';
CREATE ROLE analysis2;
ALTER ROLE analysis2 WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION PASSWORD '12345678';
CREATE ROLE backup;
ALTER ROLE backup WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN REPLICATION;
CREATE ROLE backup_replication;
ALTER ROLE backup_replication WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN REPLICATION;
CREATE ROLE backupadmin;
ALTER ROLE backupadmin WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN REPLICATION;
CREATE ROLE backupservice;
ALTER ROLE backupservice WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN REPLICATION;
CREATE ROLE ballistic1;
ALTER ROLE ballistic1 WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION PASSWORD '12345678';
CREATE ROLE ballistic2;
ALTER ROLE ballistic2 WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION PASSWORD '12345678';
CREATE ROLE common;
ALTER ROLE common WITH LOGIN NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION PASSWORD '12345678';
CREATE ROLE ckkp;
ALTER ROLE ckkp WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION PASSWORD '12345678';
COMMENT ON ROLE ckkp IS 'Роль для процесса обмена данными ЦККП';
CREATE ROLE controller1;
ALTER ROLE controller1 WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION PASSWORD '12345678';
CREATE ROLE controller2;
ALTER ROLE controller2 WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION PASSWORD '12345678';
CREATE ROLE kfa;
ALTER ROLE kfa WITH NOSUPERUSER INHERIT NOCREATEROLE CREATEDB LOGIN NOREPLICATION PASSWORD '12345678';
CREATE ROLE kpkusys;
ALTER ROLE kpkusys WITH NOSUPERUSER INHERIT NOCREATEROLE CREATEDB LOGIN NOREPLICATION PASSWORD '12345678';
CREATE ROLE planner1;
ALTER ROLE planner1 WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION PASSWORD '12345678';
CREATE ROLE planner2;
ALTER ROLE planner2 WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION PASSWORD '12345678';

-- GROUP roles
CREATE ROLE r_backup;
ALTER ROLE r_backup WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_backupadmin;
ALTER ROLE r_backupadmin WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_backupservice;
ALTER ROLE r_backupservice WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_common;
ALTER ROLE r_common NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;
CREATE ROLE r_ckkp;
ALTER ROLE r_ckkp WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
COMMENT ON ROLE r_ckkp IS 'Роль пользователей схемы ЦККП (в т.ч. процесса обмена данными)';
CREATE ROLE r_kfa;
ALTER ROLE r_kfa WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kfavn;
ALTER ROLE r_kfavn WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kfo;
ALTER ROLE r_kfo WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kjo;
ALTER ROLE r_kjo WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kka;
ALTER ROLE r_kka WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_koci;
ALTER ROLE r_koci WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kozs;
ALTER ROLE r_kozs WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kpbno;
ALTER ROLE r_kpbno WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kpbno_adm;
ALTER ROLE r_kpbno_adm WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kpdp;
ALTER ROLE r_kpdp WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kpeo;
ALTER ROLE r_kpeo WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kpkaps;
ALTER ROLE r_kpkaps WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kpku;
ALTER ROLE r_kpku WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kpo;
ALTER ROLE r_kpo WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kpoi;
ALTER ROLE r_kpoi WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kpop;
ALTER ROLE r_kpop WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kpop2;
ALTER ROLE r_kpop2 WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kpotmi;
ALTER ROLE r_kpotmi WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kpouk;
ALTER ROLE r_kpouk WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kpvvs;
ALTER ROLE r_kpvvs WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_kz;
ALTER ROLE r_kz WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_rpd;
ALTER ROLE r_rpd WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_rpd_adm;
ALTER ROLE r_rpd_adm WITH SUPERUSER INHERIT CREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;
CREATE ROLE r_sprav;
ALTER ROLE r_sprav WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION;


--
-- Role memberships
--

GRANT r_backup TO backup GRANTED BY dba;
GRANT r_backup TO dba GRANTED BY dba;
GRANT r_backupadmin TO backupadmin GRANTED BY dba;
GRANT r_backupadmin TO dba GRANTED BY dba;
GRANT r_backupservice TO backupservice GRANTED BY dba;
GRANT r_backupservice TO dba GRANTED BY dba;
GRANT r_common TO common;
GRANT r_ckkp TO analysis2 GRANTED BY dba;
GRANT r_ckkp TO ballistic1 GRANTED BY dba;
GRANT r_ckkp TO ballistic2 GRANTED BY dba;
GRANT r_ckkp TO ckkp GRANTED BY dba;
GRANT r_ckkp TO dba GRANTED BY dba;
GRANT r_kfa TO analyser1 GRANTED BY dba;
GRANT r_kfa TO analyser2 GRANTED BY dba;
GRANT r_kfa TO analysis GRANTED BY dba;
GRANT r_kfa TO analysis2 GRANTED BY dba;
GRANT r_kfa TO backup_replication GRANTED BY dba;
GRANT r_kfa TO ballistic1 GRANTED BY dba;
GRANT r_kfa TO ballistic2 GRANTED BY dba;
GRANT r_kfa TO controller1 GRANTED BY dba;
GRANT r_kfa TO controller2 GRANTED BY dba;
GRANT r_kfa TO kfa GRANTED BY dba;
GRANT r_kfa TO planner1 GRANTED BY dba;
GRANT r_kfa TO planner2 GRANTED BY dba;
GRANT r_kfa TO postgres GRANTED BY dba;
GRANT r_kfa TO r_kfavn GRANTED BY dba;
GRANT r_kfa TO r_kfo GRANTED BY dba;
GRANT r_kfa TO dba GRANTED BY dba;
GRANT r_kfavn TO analysis2 GRANTED BY dba;
GRANT r_kfavn TO kfa GRANTED BY dba;
GRANT r_kfavn TO dba GRANTED BY dba;
GRANT r_kfo TO analyser1 GRANTED BY dba;
GRANT r_kfo TO analyser2 GRANTED BY dba;
GRANT r_kfo TO analysis2 GRANTED BY dba;
GRANT r_kfo TO ballistic1 GRANTED BY dba;
GRANT r_kfo TO ballistic2 GRANTED BY dba;
GRANT r_kfo TO controller1 GRANTED BY dba;
GRANT r_kfo TO controller2 GRANTED BY dba;
GRANT r_kfo TO kfa GRANTED BY dba;
GRANT r_kfo TO planner1 GRANTED BY dba;
GRANT r_kfo TO dba GRANTED BY dba;
GRANT r_kfo TO planner2 GRANTED BY dba;
GRANT r_kfo TO postgres GRANTED BY dba;
GRANT r_kjo TO analysis GRANTED BY dba;
GRANT r_kjo TO analysis2 GRANTED BY dba;
GRANT r_kjo TO kfa GRANTED BY dba;
GRANT r_kjo TO kpkusys GRANTED BY dba;
GRANT r_kjo TO postgres GRANTED BY dba;
GRANT r_kjo TO r_kfa GRANTED BY dba;
GRANT r_kjo TO dba GRANTED BY dba;
GRANT r_kka TO analysis2 GRANTED BY dba;
GRANT r_kka TO ballistic1 GRANTED BY dba;
GRANT r_kka TO ballistic2 GRANTED BY dba;
GRANT r_kka TO controller1 GRANTED BY dba;
GRANT r_kka TO controller2 GRANTED BY dba;
GRANT r_kka TO planner1 GRANTED BY dba;
GRANT r_kka TO planner2 GRANTED BY dba;
GRANT r_kka TO postgres GRANTED BY dba;
GRANT r_kka TO dba GRANTED BY dba;
GRANT r_koci TO ballistic1 GRANTED BY dba;
GRANT r_koci TO ballistic2 GRANTED BY dba;
GRANT r_koci TO analysis GRANTED BY dba;
GRANT r_koci TO analysis2 GRANTED BY dba;
GRANT r_koci TO kfa GRANTED BY dba;
GRANT r_koci TO postgres GRANTED BY dba;
GRANT r_koci TO dba GRANTED BY dba;
GRANT r_kozs TO ballistic1 GRANTED BY dba;
GRANT r_kozs TO ballistic2 GRANTED BY dba;
GRANT r_kozs TO analysis2 GRANTED BY dba;
GRANT r_kozs TO controller1 GRANTED BY dba;
GRANT r_kozs TO controller2 GRANTED BY dba;
GRANT r_kozs TO planner1 GRANTED BY dba;
GRANT r_kozs TO planner2 GRANTED BY dba;
GRANT r_kozs TO postgres GRANTED BY dba;
GRANT r_kozs TO dba GRANTED BY dba;
GRANT r_kpbno TO analyser1 GRANTED BY dba;
GRANT r_kpbno TO analyser2 GRANTED BY dba;
GRANT r_kpbno TO analysis GRANTED BY dba;
GRANT r_kpbno TO analysis2 GRANTED BY dba;
GRANT r_kpbno TO ballistic1 GRANTED BY dba;
GRANT r_kpbno TO ballistic2 GRANTED BY dba;
GRANT r_kpbno TO controller1 GRANTED BY dba;
GRANT r_kpbno TO controller2 GRANTED BY dba;
GRANT r_kpbno TO kfa GRANTED BY dba;
GRANT r_kpbno TO planner1 GRANTED BY dba;
GRANT r_kpbno TO planner2 GRANTED BY dba;
GRANT r_kpbno TO postgres GRANTED BY dba;
GRANT r_kpbno TO dba GRANTED BY dba;
GRANT r_kpbno_adm TO analysis GRANTED BY dba;
GRANT r_kpbno_adm TO analysis2 GRANTED BY dba;
GRANT r_kpbno_adm TO postgres GRANTED BY dba;
GRANT r_kpbno_adm TO dba GRANTED BY dba;
GRANT r_kpdp TO analysis2 GRANTED BY dba;
GRANT r_kpdp TO ballistic1 GRANTED BY dba;
GRANT r_kpdp TO ballistic2 GRANTED BY dba;
GRANT r_kpdp TO controller1 GRANTED BY dba;
GRANT r_kpdp TO controller2 GRANTED BY dba;
GRANT r_kpdp TO planner1 GRANTED BY dba;
GRANT r_kpdp TO planner2 GRANTED BY dba;
GRANT r_kpdp TO postgres GRANTED BY dba;
GRANT r_kpdp TO dba GRANTED BY dba;
GRANT r_kpeo TO analysis2 GRANTED BY dba;
GRANT r_kpeo TO postgres GRANTED BY dba;
GRANT r_kpeo TO dba GRANTED BY dba;
GRANT r_kpkaps TO analysis GRANTED BY dba;
GRANT r_kpkaps TO analysis2 GRANTED BY dba;
GRANT r_kpkaps TO kpkusys GRANTED BY dba;
GRANT r_kpkaps TO postgres GRANTED BY dba;
GRANT r_kpkaps TO r_kjo GRANTED BY dba;
GRANT r_kpkaps TO dba GRANTED BY dba;
GRANT r_kpku TO analyser1 GRANTED BY dba;
GRANT r_kpku TO analyser2 GRANTED BY dba;
GRANT r_kpku TO analysis GRANTED BY dba;
GRANT r_kpku TO analysis2 GRANTED BY dba;
GRANT r_kpku TO ballistic1 GRANTED BY dba;
GRANT r_kpku TO ballistic2 GRANTED BY dba;
GRANT r_kpku TO controller1 GRANTED BY dba;
GRANT r_kpku TO controller2 GRANTED BY dba;
GRANT r_kpku TO kfa GRANTED BY dba;
GRANT r_kpku TO kpkusys GRANTED BY dba;
GRANT r_kpku TO planner1 GRANTED BY dba;
GRANT r_kpku TO planner2 GRANTED BY dba;
GRANT r_kpku TO postgres GRANTED BY dba;
GRANT r_kpku TO dba GRANTED BY dba;
GRANT r_kpo TO analysis2 GRANTED BY dba;
GRANT r_kpo TO controller1 GRANTED BY dba;
GRANT r_kpo TO controller2 GRANTED BY dba;
GRANT r_kpo TO planner1 GRANTED BY dba;
GRANT r_kpo TO planner2 GRANTED BY dba;
GRANT r_kpo TO postgres GRANTED BY dba;
GRANT r_kpo TO dba GRANTED BY dba;
GRANT r_kpoi TO analysis2 GRANTED BY dba;
GRANT r_kpoi TO postgres GRANTED BY dba;
GRANT r_kpoi TO dba GRANTED BY dba;
GRANT r_kpop TO analysis2 GRANTED BY dba;
GRANT r_kpop TO postgres GRANTED BY dba;
GRANT r_kpop TO dba GRANTED BY dba;
GRANT r_kpop2 TO analysis2 GRANTED BY dba;
GRANT r_kpop2 TO controller1 GRANTED BY dba;
GRANT r_kpop2 TO controller2 GRANTED BY dba;
GRANT r_kpop2 TO planner1 GRANTED BY dba;
GRANT r_kpop2 TO planner2 GRANTED BY dba;
GRANT r_kpop2 TO r_kpbno GRANTED BY dba;
GRANT r_kpop2 TO dba GRANTED BY dba;
GRANT r_kpotmi TO analyser1 GRANTED BY dba;
GRANT r_kpotmi TO analyser2 GRANTED BY dba;
GRANT r_kpotmi TO analysis GRANTED BY dba;
GRANT r_kpotmi TO analysis2 GRANTED BY dba;
GRANT r_kpotmi TO kfa GRANTED BY dba;
GRANT r_kpotmi TO postgres GRANTED BY dba;
GRANT r_kpotmi TO dba GRANTED BY dba;
GRANT r_kpouk TO analysis2 GRANTED BY dba;
GRANT r_kpouk TO planner1 GRANTED BY dba;
GRANT r_kpouk TO planner2 GRANTED BY dba;
GRANT r_kpouk TO controller1 GRANTED BY dba;
GRANT r_kpouk TO controller2 GRANTED BY dba;
GRANT r_kpouk TO postgres GRANTED BY dba;
GRANT r_kpouk TO dba GRANTED BY dba;
GRANT r_kpvvs TO ballistic1 GRANTED BY dba;
GRANT r_kpvvs TO ballistic2 GRANTED BY dba;
GRANT r_kpvvs TO analysis2 GRANTED BY dba;
GRANT r_kpvvs TO kfa GRANTED BY dba;
GRANT r_kpvvs TO postgres GRANTED BY dba;
GRANT r_kpvvs TO dba GRANTED BY dba;
GRANT r_kz TO analysis2 GRANTED BY dba;
GRANT r_kz TO controller1 GRANTED BY dba;
GRANT r_kz TO controller2 GRANTED BY dba;
GRANT r_kz TO planner1 GRANTED BY dba;
GRANT r_kz TO planner2 GRANTED BY dba;
GRANT r_kz TO postgres GRANTED BY dba;
GRANT r_kz TO dba GRANTED BY dba;
GRANT r_rpd TO analyser1 GRANTED BY dba;
GRANT r_rpd TO analyser2 GRANTED BY dba;
GRANT r_rpd TO analysis GRANTED BY dba;
GRANT r_rpd TO ballistic1 GRANTED BY dba;
GRANT r_rpd TO ballistic2 GRANTED BY dba;
GRANT r_rpd TO controller1 GRANTED BY dba;
GRANT r_rpd TO controller2 GRANTED BY dba;
GRANT r_rpd TO kfa GRANTED BY dba;
GRANT r_rpd TO kpkusys GRANTED BY dba;
GRANT r_rpd TO planner1 GRANTED BY dba;
GRANT r_rpd TO planner2 GRANTED BY dba;
GRANT r_rpd TO postgres GRANTED BY dba;
GRANT r_rpd TO r_kjo GRANTED BY dba;
GRANT r_rpd TO r_rpd_adm GRANTED BY dba;
GRANT r_rpd TO dba GRANTED BY dba;
GRANT r_rpd_adm TO postgres GRANTED BY dba;
GRANT r_rpd_adm TO dba GRANTED BY dba;
GRANT r_sprav TO postgres GRANTED BY dba;
GRANT r_sprav TO dba GRANTED BY dba;


--
-- PostgreSQL database cluster dump complete
--

